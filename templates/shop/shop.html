{% extends 'base.html' %}
{%load static%}
{%block title%} Shop {%endblock title%}
{%block content%}
<form >
 <!-- Breadcrumb Begin -->
    <div class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__links">
                        <a href="{%url 'index'%}"><i class="fa fa-home"></i> Home</a>
                        {%if 'products/1' in request.path%}
                        <span>Women</span>
                        {%elif 'products/2' in request.path%}
                        <span>Men</span>
                        {%elif 'products/3' in request.path%}
                        <span>Kids</span>
                        {%else%}
                        <span>Shop</span>
                        {%endif%}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Breadcrumb End -->

    <!-- Shop Section Begin -->
    <section class="shop spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="shop__sidebar">
                        <div class="sidebar__categories">
                            <div class="section-title">
                                <h4>Categories</h4>  
                            </div>
                            <div class="categories__accordion">
                                <div class="accordion" id="accordionExample">
                                    <div class="card">
                                        {%if 'all' in getCategory %}
                                        <div class="card-heading active">
                                        <a data-toggle="collapse" data-target="#collapseZero"style="color:darkred">All Category</a>
                                        </div>
                                        <div id="collapseZero" class="collapse show" data-parent="#accordionExample">

                                        {%else%}
                                        <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseZero">All Category</a>
                                        </div>
                                        <div id="collapseZero" class="collapse" data-parent="#accordionExample">

                                        {%endif%}
                                            <div class="card-body">
                                                <ul>
                                                    <li><a href="?category=all coat">Coats</a></li>
                                                    <li><a href="?category=all jacket">Jackets</a></li>
                                                    <li><a href="?category=all dress">Dresses</a></li>
                                                    <li><a href="?category=all shirt">Shirts</a></li>
                                                    <li><a href="?category=all T-shirt">T-shirts</a></li>
                                                    <li><a href="?category=all jeans">Jeans</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        {%if 'women' in getCategory %}
                                        <div class="card-heading active">
                                        <a data-toggle="collapse" data-target="#collapseOne" style="color:darkred">Women</a>
                                        </div>
                                        <div id="collapseOne" class="collapse show" data-parent="#accordionExample">

                                        {%else%}
                                        <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseOne">Women</a>
                                        </div>
                                        <div id="collapseOne" class="collapse" data-parent="#accordionExample">

                                        {%endif%}
                                            <div class="card-body">
                                                <ul>
                                                    <li><a href="?category=women coat">Coats</a></li>
                                                    <li><a href="?category=women jacket">Jackets</a></li>
                                                    <li><a href="?category=women dress">Dresses</a></li>
                                                    <li><a href="?category=women shirt">Shirts</a></li>
                                                    <li><a href="?category=women T-shirt">T-shirts</a></li>
                                                    <li><a href="?category=women jeans">Jeans</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        {%if 'men' in getCategory|slice:':3' %}
                                        <div class="card-heading active">
                                        <a data-toggle="collapse" data-target="#collapseTwo" style="color:darkred">Men</a>
                                        </div>
                                        <div id="collapseTwo" class="collapse show" data-parent="#accordionExample">

                                        {%else%}
                                        <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseTwo">Men</a>
                                        </div>
                                        <div id="collapseTwo" class="collapse" data-parent="#accordionExample">

                                        {%endif%}
                                            <div class="card-body">
                                                <ul>
                                                    <li><a href="?category=men coat">Coats</a></li>
                                                    <li><a href="?category=men jacket">Jackets</a></li>
                                                    <li><a href="?category=men dress">Dresses</a></li>
                                                    <li><a href="?category=men shirt">Shirts</a></li>
                                                    <li><a href="?category=men T-shirt">T-shirts</a></li>
                                                    <li><a href="?category=men jeans">Jeans</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card">
                                        {%if 'kids' in getCategory %}
                                        <div class="card-heading active">
                                        <a data-toggle="collapse" data-target="#collapseThree"  style="color:darkred">Kids</a>
                                        </div>
                                        <div id="collapseThree" class="collapse show" data-parent="#accordionExample">

                                        {%else%}
                                        <div class="card-heading"> 
                                        <a data-toggle="collapse" data-target="#collapseThree">Kids</a>
                                        </div>
                                        <div id="collapseThree" class="collapse" data-parent="#accordionExample">

                                        {%endif%}
                                            <div class="card-body">
                                                <ul>
                                                    <li><a href="?category=kids coat">Coats</a></li>
                                                    <li><a href="?category=kids jacket">Jackets</a></li>
                                                    <li><a href="?category=kids dress">Dresses</a></li>
                                                    <li><a href="?category=kids shirt">Shirts</a></li>
                                                    <li><a href="?category=kids T-shirt">T-shirts</a></li>
                                                    <li><a href="?category=kids jeans">Jeans</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                </div>
                            </div>
                        </div>
                        
                        <div class="sidebar__filter">
                            <div class="section-title">
                                <h4>Shop by price</h4>
                            </div>
                            
                            <div class="filter-range-wrap">
                                <div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"
                                data-min="22" data-max="99" data-val1="{{minValue}}" data-val2="{{maxValue}}" ></div>
                                <div class="range-slider">
                                    <div class="price-input">
                                        <p>Price:</p>
                                        <input type="text" id="minamount" name='minamount'  >
                                        <input type="text" id="maxamount" name='maxamount'  >
                                        <button type='submit' class='btn btn-light' name='btnFilter'
                                        style='border:1px solid darkred;margin-left:170px'>Filter</a>
                                        <input type='hidden' value='{{getCategory}}' name='category'>

                                    </div>
                                </div>
                            </div>
                        </div>
                        </form>
                        <div class="sidebar__sizes">
                            <div class="section-title">
                                <h4>Shop by size</h4>
                            </div>
                            <div class="size__list">
                                <label for="xxs">
                                    xxs
                                    {% if 'XXS' in size %}
                                    <input type="checkbox" id="xxs" name='size' value='XXS' checked>
                                    {%else%}
                                    <input type="checkbox" id="xxs" name='size' value='XXS' >
                                    {% endif %}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="xs">
                                    xs
                                    {%if 'XS' in size%}
                                    <input type="checkbox" id="xs" name='size' value='XS' checked>
                                    {%else%}
                                    <input type="checkbox" id="xs" name='size' value='XS'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="xss">
                                    xs-s
                                    {%if 'XS-S' in size%}
                                    <input type="checkbox" id="xss" name='size' value='XS-S' checked>
                                    {%else%}
                                    <input type="checkbox" id="xss" name='size' value='XS-S'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="s">
                                    s
                                    {%if 'S' in size%}
                                    <input type="checkbox" id="s" name='size' value='S' checked>
                                    {%else%}
                                    <input type="checkbox" id="s" name='size' value='S'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="m">
                                    m
                                    {%if 'M' in size%}
                                    <input type="checkbox" id="m" name='size' value='M' checked>
                                    {%else%}
                                    <input type="checkbox" id="m" name='size' value='M' >
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="ml">
                                    m-l
                                    {%if 'M-L' in size%}
                                    <input type="checkbox" id="ml" name='size' value='M-L' checked>
                                    {%else%}
                                    <input type="checkbox" id="ml" name='size' value='M-L'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="l">
                                    l
                                    {%if 'L' in size%}
                                    <input type="checkbox" id="l" name='size' value='L' checked>
                                    {%else%}
                                    <input type="checkbox" id="l" name='size' value='L' >
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="xl">
                                    xl
                                    {%if 'XL' in size%}
                                    <input type="checkbox" id="xl" name='size' value='XL' checked>
                                    {%else%}
                                    <input type="checkbox" id="xl" name='size' value='XL' >
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <button type='submit' class='btn btn-light' name='btnFilter'
                                style='border:1px solid darkred;margin-left:170px; '>Filter</button>

                            </div>
                                
                        </div>
                        <div class="sidebar__color">
                            <div class="section-title">
                                <h4>Shop by color</h4>
                            </div>
                            <div class="size__list color__list">
                                <label for="black">
                                    Black
                                    {%if 'White' in color%}
                                    <input type="checkbox" id="black" name='color' value='White' checked>
                                    {%else%}
                                    <input type="checkbox" id="black" name='color' value='White'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="whites">
                                    White
                                    {%if 'Black' in color%}
                                    <input type="checkbox" id="whites"name='color' value='Black' checked>
                                    {%else%}
                                    <input type="checkbox" id="whites"name='color' value='Black'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="reds">
                                    Red
                                    {%if 'Red' in color%}
                                    <input type="checkbox" id="reds" name='color' value='Red' checked>
                                    {%else%}
                                    <input type="checkbox" id="reds" name='color' value='Red'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="greys">
                                    Grey
                                    {%if 'Grey' in color%}
                                    <input type="checkbox" id="greys" name='color' value='Grey' checked>
                                    {%else%}
                                    <input type="checkbox" id="greys" name='color' value='Grey'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="blues">
                                    Blue
                                    {%if 'Blue' in color%}
                                    <input type="checkbox" id="blues" name='color' value='Blue' checked>
                                    {%else%}
                                    <input type="checkbox" id="blues" name='color' value='Blue'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="greens">
                                    Green
                                    {%if 'Green' in color%}
                                    <input type="checkbox" id="greens" name='color' value='Green' checked>
                                    {%else%}
                                    <input type="checkbox" id="greens" name='color' value='Green'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <label for="yellows">
                                    Yellow
                                    {%if 'Yellow' in color%}
                                    <input type="checkbox" id="yellows" name='color' value='Yellow' checked>
                                    {%else%}
                                    <input type="checkbox" id="yellows" name='color' value='Yellow'>
                                    {%endif%}
                                    <span class="checkmark"></span>
                                </label>
                                <button type='submit' class='btn btn-light' name='btnFilter'
                                style='border:1px solid darkred;margin-left:170px; '>Filter</button>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-9">
                    <div class="row">
                        
                        {%for pro in page_obj%}
                        <div class="col-lg-4 col-md-6">
                            {%if pro.PriceAfterDiscount == 0%}
                                <div class="product__item">
                            {%else%}
                            <div class="product__item sale">
                            {%endif%}    
                                <div class="product__item__pic set-bg" data-setbg="{{pro.image_one.url}}">
                                {%if pro.PriceAfterDiscount > 0%}
                                    <div class="label">Sale</div>
                                {%endif%}    
                                    <ul class="product__hover">
                                        <li><a href="{{pro.image_one.url}}" class="image-popup"><span class="arrow_expand"></span></a></li>
                                        <li><a href="#"><span class="icon_heart_alt"></span></a></li>
                                        <li><a href="#"><span class="icon_bag_alt"></span></a></li>
                                    </ul>
                                </div>

                                <div class="product__item__text">
                                    <h6><a href="{%url 'product_details' pro.id %}">{{pro.name}}</a></h6>
                                    <div class="rating">
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                        <i class="fa fa-star"></i>
                                    </div>
                                    <div class="product__price">
                                        {%if pro.PriceAfterDiscount == 0%}
                                        {{pro.price}}$
                                        {%else%}
                                        {{pro.PriceAfterDiscount }}$
                                        <span>{{pro.price}}$</span>
                                        {%endif%}
                                    </div>
                                </div>
                            </div>
                        </div>
                        {%endfor%}

                    <div class="col-lg-12 text-center">
                        <div class="pagination__option">
                                {% if page_obj.has_previous %}
                                    <a href="?page={{ page_obj.previous_page_number }}">
                                    <i class="fa fa-angle-left"></i>
                                    </a>
                                {% endif %}
                                <span>   </span>
                                {% if page_obj.has_next %}
                                    <a href="?page={{ page_obj.next_page_number }}">
                                    <i class="fa fa-angle-right"></i>
                                    </a>
                                {% endif %}
                                <br>
                                {% if page_obj.paginator.num_pages > 1 %}
                                 <span class="current">
                                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                                </span> 
                                {% endif %}
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Shop Section End -->


{%endblock%}